{% extends 'base.html' %}

{% block body %}
<div class="profile-container">
    <div class="profile-header">
        <h2>{{ tutor.name }}</h2>
        <p class="rating"><strong>Rating:</strong> {{ '%.1f'|format(tutor.rating_avg) }} ‚≠ê</p>
        <p class="rate"><strong>Rate:</strong> ${{ '%.2f'|format(tutor.hourly_rate) }}/hr</p>
    </div>
    <div class="profile-body">
        <h3>About Me</h3>
        <p>{{ tutor.bio }}</p>
        
        <h3>Skills Offered</h3>
        <div class="skills-list">
            {% for skill in skills %}
                <span class="skill-badge">{{ skill.skill_name }}</span>
            {% endfor %}
        </div>
    </div>
</div>

<div class="form-container">
    <h3>Book a Session</h3>
    <form method="POST" action="{{ url_for('book_session') }}">
        <input type="hidden" name="tutor_id" value="{{ tutor.user_id }}">
        
        <div class="form-group">
            <label for="skill_id">Select Skill to Learn</label>
            <select name="skill_id" id="skill_id" class="form-control" required>
                {% for skill in skills %}
                    <option value="{{ skill.skill_id }}">{{ skill.skill_name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="session_date">Select Date and Time</label>
            <input type="datetime-local" id="session_date" name="session_date" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-primary">Book Now & Proceed to Pay</button>
    </form>
</div>
{% endblock %}